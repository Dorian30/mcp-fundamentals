# Advanced Tools

In the previous exercise, you learned how to register simple tools and handle
arguments using the Model Context Protocol (MCP). Now, you'll take things to the
next level by building more realistic, stateful, and robust toolsâ€”tools that
interact with a database, handle errors gracefully, and are organized for
maintainability.

In this exercise, you'll work on a journaling app called **EpicMe**. The app
allows users to create and manage journal entries and tags. You'll expose these
capabilities to clients through MCP tools, making it possible for users (and
LLMs) to create tags, associate them with entries, and moreâ€”all through a
standardized protocol.

Here's what you'll encounter as you progress:

- **Database Integration:** Instead of just returning static or computed values,
  your tools will now interact with a real database. This means you'll be able
  to persist and retrieve data, making your tools much more powerful and useful.
- **Code Organization:** You'll refactor your code to keep tool definitions a
  bit more organized, moving them into a dedicated module.
- **Class-based Server Structure:** You'll encapsulate your server and database
  logic in a class, preparing things for using Cloudflare's Durable Objects
  (my personal favorite way to build remote MCP servers).
- **Robust Error Handling:** You'll add error handling to your tools, ensuring
  that clients receive clear feedback when something goes wrong, and that errors
  are surfaced in a way that's compatible with the MCP spec.

By the end of this exercise, you'll have a solid foundation for building
advanced, production-ready MCP tools that can power real applications.

- ðŸ“œ [MCP Spec: Tools](https://modelcontextprotocol.io/specification/2025-03-26/server/tools)
